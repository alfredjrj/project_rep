
{% load staticfiles %}
<!--<script type="text/javascript" src="{% static 'canvas/ajax_canvas_post.js' %}"></script>-->
<head>

<script> var cavas_ids = "{{canvas_html_input_id}}canvas" </script>
<!-- purpose, to keep reference to the canvas id in canvas wirte js  -->
<link rel="stylesheet" href="{% static 'canvas/style/canvas_create_gui.css' %}" type="text/css">
 


<script type="text/javascript" src="{% static 'canvas/js/canvas_create_gui/create_gui_settings.js' %}"></script>


</head>
<div id="tabs">
  <ul>
    <li><a href="#tabs-1">TEXT</a></li>
    <li><a href="#tabs-2">DRAW</a></li>
    <li><a href="#tabs-3">IMAGES</a></li>
  </ul>
</div>

<!-- <div class="well">
  <div class="row">
    <div class="col-md-5">
      <div class="form-group"> -->
       
        <input type="hidden" id="{{canvas_html_input_id}}colour" class="form-control demo" data-control="hue" value="#000000" >
  <!--     </div>
    </div>
  </div>     
</div> -->
 
<!--       <div class="form-group">
        <label for="saturation-demo">Saturation</label>
        <input type="text" id="saturation-demo" class="form-control demo" data-control="saturation" value="#0088cc">
      </div>
    </div>
<div class="well">
  <div class="row">
    <div class="col-md-3">
      <div class="form-group">
        <input type="text" id="inlinecolors" class="form-control" data-inline="true" value="#4fc8db">
      </div>
    </div>
 
    <div id="inlinecolorhex" class="col-md-8">
      <h3>Current selection: <small>#4fc8db</small></h3>
    </div>
  </div>
</div> -->


<input type="button" ref_canvas_id="{{canvas_html_input_id}}" class="add_texts" id="{{canvas_html_input_id}}add_texts" value="+ text">

<select id= "{{canvas_html_input_id }}font_selector" class="font_selector"  
style="width:100px">

  <option value="Arial">Arial</option>
  <option value="Helvetic"> Helvetic</option>
  <option value="Comic Sans MS">Comic Sans MS</option>
  <option value="Times New Roman">Times New Roman</option>
  <option value="Georgia"> Georgia</option>
  <option value="Impact"> Impact</option>
</select>


<select id= "draw_tool_selector">
  <option value="Draw">Draw</option>
  <option value="Rectangle">Rectangle </option>
  <option value="Circle">Circle</option>
  <option value="line">Line</option>
 </select>

<input id="{{canvas_html_input_id }}size_selector" value='15'  type="number" name="quantity" min="15" max="70" class="size_selector">
  
<div id = "{{canvas_html_input_id}}canvas_create_div">

<canvas  class = "canvas_create" id="{{canvas_html_input_id}}canvas"  >
Your browser does not support the HTML5 canvas tag.</canvas><br>



</div>




<form   id= "{{canvas_html_input_id }}canvas_form"  >


	<input type="text" class="create_canvas_post" id="{{canvas_html_input_id}}input" 
  ref_canvas_id="{{canvas_html_input_id}}" data-post-font-size="0" data-post-font="none" size="38" maxlength="370" />

	<input  class= "canvas_post_button" type="submit"   value="post"  />
</form>


<script>

  $(function() {
    $( "#tabs" ).tabs();
  });

  var colpick = $('.demo').each( function() {
    $(this).minicolors({
      control: $(this).attr('data-control') || 'hue',
      inline: $(this).attr('data-inline') === 'true',
      letterCase: 'lowercase',
      
      opacity: true,
      change: function(hex, opacity) {
        if(!hex) return;
       
        try {
          console.log(hex + "  " + opacity);
        } catch(e) {}
        $(this).select();
      },
      //theme: 'bootstrap'
    });
  });

  //  var $inlinehex = $('#inlinecolorhex h3 small');
  // $('#inlinecolors').minicolors({
  //   inline: true,
  //   theme: 'bootstrap',
  //   change: function(hex) {
  //     if(!hex) return;
  //     $inlinehex.html(hex);
  //   }
  // });




$("#canvas_post_button").button();

$("#{{canvas_html_input_id }}canvas_form").submit(function(evt){
    evt.preventDefault();

 var postdata={
              'canvas_post':$('#{{canvas_html_input_id}}input').val() , 
              'post_font':$('#{{canvas_html_input_id}}input').attr('data-post-font'),
              'font_size':$('#{{canvas_html_input_id}}input').attr('data-post-font-size'),
              'csrfmiddlewaretoken': '{{ csrf_token }}',      
         }



  $.post("{% url 'canvas:create_canvas_post' canvas_html_input_id   %}", postdata , function(){location.reload() ;
    $('#{{canvas_html_input_id}}input').val("") ;

    }, "json")


});


</script>

<!--
<script>
ajax_create_canvas("{{canvas_html_input_id }}canvas_form" ,"{{canvas_html_input_id }}" )
</script>

-->




